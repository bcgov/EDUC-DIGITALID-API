---
apiVersion: v1
kind: Template
labels: 
  template: digitalid-api-pipeline-template
metadata: 
  name: digitalid-api-pipeline-template
objects:
- apiVersion: v1
  kind: BuildConfig
  metadata: 
    name: "digitalid-api-pipeline"
  spec:
    source:
      git:
        uri: "https://github.com/bcgov/EDUC-DIGITALID-API"
      images:
      - as:
        from:
          kind: ImageStreamTag
          name: "educ-jords"
          namespace: "c2mvws-dev"
        paths:
        - destinationDir: tmp
          sourcePath: /opt/app-root/src
    strategy:
      jenkinsPipelineStrategy:
        jenkinsfilePath: jenkins/Jenkinsfile-api
